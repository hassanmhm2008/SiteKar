# ุฎูุงุตู ุชุบุฑุงุช ุฌุฏุฏ

## โ ุชุบุฑุงุช ุงูุฌุงู ุดุฏู:

### 1. **warehouse-requests.html** - ุงูฺฉุงู ูุฑุงุด ุจุฑุง ุงูุจุงุฑ ุฏุงุฑ
- โ ุงุถุงูู ฺฉุฑุฏู input ุชุนุฏุงุฏ ุจุง ุงูฺฉุงู ุชุบุฑ ุฏุฑ modal ุฌุฒุฆุงุช
- โ ุงุถุงูู ฺฉุฑุฏู ุฏฺฉูู ุญุฐู ุจุฑุง ูุฑ ุขุชู
- โ ุงุถุงูู ฺฉุฑุฏู ุณุชูู "ุนููุงุช" ุจู ุฌุฏูู ุขุชูโูุง
- โ ุชูุงุจุน `updateItemQuantity()` ู `deleteItem()` ุจุฑุง ูุฑุงุด ู ุญุฐู ุขุชูโูุง

### 2. **department-requests.html** - ูุญุฏูุฏุช ูุฑุงุด ู ููุชุฑ
- โ **ูุฑุงุด ูุญุฏูุฏ**: ููุท ุจุฑุง ูุถุนุช "ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ" ุงูฺฉุงู ูุฑุงุด ูุฌูุฏ ุฏุงุฑุฏ
  - ุฏุฑุฎูุงุณุชโูุง ุชุงุฏ ุง ุฑุฏ ุดุฏู: ููุท ุฎูุงูุฏู (read-only)
- โ **ุงุถุงูู ฺฉุฑุฏู ููุชุฑ ูุถุนุช**: dropdown ุจุฑุง ููุชุฑ ุจุฑ ุงุณุงุณ ูุถุนุช
  - ููู ูุถุนุชโูุง
  - ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ
  - ุชุงุฏ ุฑุฆุณ
  - ุฑุฏ ุดุฏู
  - ุชุงุฏ ููุฌูุฏ
  - ุชุญูู ุฏุงุฏู ุดุฏู
  - ุจุงุฒฺฏุดุช ุฏุงุฏู ุดุฏู
- โ **ุฏฺฉูู ุจุฑฺฏุดุช**: ููุท ุจุฑุง ุฏุฑุฎูุงุณุชโูุง "ุชุญูู ุฏุงุฏู ุดุฏู"
- โ **Modal ุจุฑฺฏุดุช**: ุจุง ุชูุถุญุงุช ุงุฎุชุงุฑ
- โ ุชุบุฑ API ุงุฒ `/department/:id/pending` ุจู `/requests?department_id=X&status=Y` ุจุฑุง ูพุดุชุจุงู ุงุฒ ููุชุฑ

### 3. **warehouse-requests.html** - ุญุฐู ุฏฺฉูู ุจุฑฺฏุดุช
- โ ุญุฐู ุฏฺฉูู ุจุฑฺฏุดุช ุงุฒ ุตูุญู ุงูุจุงุฑ (ููุชูู ุดุฏ ุจู department-requests)
- โ ุญุฐู modal ุจุฑฺฏุดุช
- โ ุญุฐู ุชูุงุจุน `openReturnModal()` ู handler ุจุฑฺฏุดุช

### 4. **requests.html** - ูุญุฏูุฏุช ุญุฐู ู ฺฉูพ
- โ **ูุญุฏูุฏุช ููุงุด ุฏฺฉูู ุญุฐู**: ููุท ุจุฑุง ูุถุนุชโูุง ุฒุฑ:
  - ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ
  - ุฑุฏ ุดุฏู
  - ุจุงุฒฺฏุดุช ุฏุงุฏู ุดุฏู
- โ **ุงุถุงูู ฺฉุฑุฏู ุฏฺฉูู ฺฉูพ** (๐): ุจุฑุง ููู ุฏุฑุฎูุงุณุชโูุง
- โ ุชุงุจุน `copyRequest()` ุจุฑุง ฺฉูพ ฺฉุฑุฏู ุฏุฑุฎูุงุณุช
- โ ุจูโุฑูุฒุฑุณุงู ููุชุฑ ูุถุนุช (ุงุถุงูู ุดุฏู "ุชุงุฏ ููุฌูุฏ" ู "ุจุงุฒฺฏุดุช ุฏุงุฏู ุดุฏู")
- โ ุจูโุฑูุฒุฑุณุงู `getRequestStatusClass()` ุจุฑุง badge ูุง ุฌุฏุฏ

### 5. **backend/routes/requests.js** - API ฺฉูพ ุฏุฑุฎูุงุณุช
- โ **Endpoint ุฌุฏุฏ**: `POST /api/requests/:id/copy`
  - ฺฉูพ ุฏุฑุฎูุงุณุช ุจุง ููู ุขุชูโูุง
  - ุงุฌุงุฏ ุฏุฑุฎูุงุณุช ุฌุฏุฏ ุจุง ูุถุนุช "ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ"
  - ฺฉูพ ุชูุงู ุขุชูโูุง ุจู ุฏุฑุฎูุงุณุช ุฌุฏุฏ

---

## ๐ ููุงูู ู ูุญุฏูุฏุชโูุง:

### ุฏุณุชุฑุณ ูุฑุงุด:
| ููุด | ุตูุญู | ุดุฑุงุท ูุฑุงุด |
|-----|------|--------------|
| **ุฑุฆุณ ูุงุญุฏ** | department-requests.html | ููุท ุฏุฑุฎูุงุณุชโูุง "ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ" |
| **ุงูุจุงุฑ ุฏุงุฑ** | warehouse-requests.html | ููู ุฏุฑุฎูุงุณุชโูุง (ุชุงุฏ ุฑุฆุณุ ุชุงุฏ ููุฌูุฏุ ู ุบุฑู) |
| **ฺฉุงุฑููุฏ** | requests.html | ุฏุฑุฎูุงุณุชโูุง "ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ"ุ "ุฑุฏ ุดุฏู"ุ "ุจุงุฒฺฏุดุช ุฏุงุฏู ุดุฏู" (implicit) |

### ุฏุณุชุฑุณ ุญุฐู:
| ููุด | ูุถุนุชโูุง ูุงุจู ุญุฐู |
|-----|-------------------|
| **ฺฉุงุฑููุฏ** | ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏุ ุฑุฏ ุดุฏูุ ุจุงุฒฺฏุดุช ุฏุงุฏู ุดุฏู |

### ุฏฺฉูู ุจุฑฺฏุดุช:
- โ **ููุท ุฏุฑ department-requests.html**
- โ ููุท ุจุฑุง ุฏุฑุฎูุงุณุชโูุง "ุชุญูู ุฏุงุฏู ุดุฏู"
- โ ุชุบุฑ ูุถุนุช ุจู "ุจุงุฒฺฏุดุช ุฏุงุฏู ุดุฏู"

---

## ๐ ููู ฺฉุงูู:

```
ฺฉุงุฑููุฏ ุซุจุช ุฏุฑุฎูุงุณุช
    โ
[ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ] โ ฺฉุงุฑููุฏ: ูุฑุงุดุ ุญุฐู
    โ
ุฑุฆุณ ูุงุญุฏ ุจุฑุฑุณ (ููุชุฑ ูโฺฉูุฏ)
    โ
  โโโโโโโโโโโโโโโดโโโโโโโโโโโโโโ
  โ                           โ
[ุชุงุฏ ุฑุฆุณ]            [ุฑุฏ ุดุฏู] โ ฺฉุงุฑููุฏ: ุญุฐู
  โ                      (ูพุงุงู)
ุงูุจุงุฑ ุฏุงุฑ ุจุฑุฑุณ (ูุฑุงุด ูโฺฉูุฏ)
  โ
  ๐ฆ ุชุงุฏ ููุฌูุฏ
  โ
[ุชุงุฏ ููุฌูุฏ]
  โ
  โ ุชุงุฏ ุชุญูู ููุง
  โ
โโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโ
โ                               โ
[ุชุญูู ุฏุงุฏู ุดุฏู]            [ุฑุฏ ุดุฏู] โ ฺฉุงุฑููุฏ: ุญุฐู
  โ                          (ูพุงุงู)
  โฉ๏ธ ุจุฑฺฏุดุช (ููุท ุฑุฆุณ ูุงุญุฏ)
  โ
[ุจุงุฒฺฏุดุช ุฏุงุฏู ุดุฏู] โ ฺฉุงุฑููุฏ: ูุฑุงุดุ ุญุฐู
(ูพุงุงู)
```

---

## ๐ ูฺฺฏโูุง ุฌุฏุฏ:

### 1. ฺฉูพ ุฏุฑุฎูุงุณุช
- ุฏฺฉูู ฺฉูพ (๐) ุฏุฑ `requests.html`
- ฺฉูพ ฺฉุงูู ุฏุฑุฎูุงุณุช ุจุง ุชูุงู ุขุชูโูุง
- ุฏุฑุฎูุงุณุช ุฌุฏุฏ ุจุง ุดูุงุฑู ุฌุฏุฏ ู ูุถุนุช "ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ"

### 2. ููุชุฑ ูพุดุฑูุชู
- ุฏุฑ `department-requests.html` ููุชุฑ ุจุฑ ุงุณุงุณ ูุถุนุช
- ูุฏุฑ: ููู ุฏุฑุฎูุงุณุชโูุง
- ุฑุฆุณ ูุงุญุฏ: ููุท ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ ุฎูุฏุด

### 3. ูุฑุงุด ููุดููุฏ
- ุชุบุฑุงุช ุจูุงูุงุตูู ุฐุฎุฑู ูโุดููุฏ (onchange)
- ููุงุด read-only ุจุฑุง ุฏุฑุฎูุงุณุชโูุง ุชุงุฏ/ุฑุฏ ุดุฏู
- auto-update ุชุนุฏุงุฏ ฺฉู ุขุชูโูุง ุจุนุฏ ุงุฒ ูุฑุงุด

---

## ๐ ูุญูู ุงุณุชูุงุฏู:

### ุจุฑุง ุฑุฆุณ ูุงุญุฏ:
1. ุฑูุชู ุจู "ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ"
2. ุงุณุชูุงุฏู ุงุฒ ููุชุฑ ุจุฑุง ุงูุชู ุฏุฑุฎูุงุณุชโูุง ุฎุงุต
3. ฺฉูฺฉ ุฑู ๐๏ธ ุจุฑุง ูุดุงูุฏู ุฌุฒุฆุงุช
4. ุงฺฏุฑ ูุถุนุช "ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ" ุจูุฏ: ูุฑุงุด ุชุนุฏุงุฏุ ุญุฐู ุขุชู
5. ุชุงุฏ ุง ุฑุฏ ุฏุฑุฎูุงุณุช
6. ุงฺฏุฑ "ุชุญูู ุฏุงุฏู ุดุฏู" ุจูุฏ: ุฏฺฉูู โฉ๏ธ ุจุฑฺฏุดุช

### ุจุฑุง ุงูุจุงุฑ ุฏุงุฑ:
1. ุฑูุชู ุจู "ุฏุฑุฎูุงุณุชโูุง ุงูุจุงุฑ"
2. ฺฉูฺฉ ุฑู ๐๏ธ ุจุฑุง ูุดุงูุฏู ุฌุฒุฆุงุช
3. ูุฑุงุด ุชุนุฏุงุฏ ุง ุญุฐู ุขุชู ุฏุฑ ูุฑ ูุฑุญูู
4. ุชุงุฏ ููุฌูุฏ โ ุชุงุฏ ุชุญูู

### ุจุฑุง ฺฉุงุฑููุฏ:
1. ุฑูุชู ุจู "ุฏุฑุฎูุงุณุชโูุง"
2. ุซุจุช ุฏุฑุฎูุงุณุช ุฌุฏุฏ
3. ูุดุงูุฏูุ ูุฑุงุด (ููุท ุฏุฑ ุงูุชุธุงุฑ/ุฑุฏ/ุจุฑฺฏุดุช)ุ ุญุฐู (ููุท ุฏุฑ ุงูุชุธุงุฑ/ุฑุฏ/ุจุฑฺฏุดุช)
4. ุงุณุชูุงุฏู ุงุฒ ุฏฺฉูู ๐ ุจุฑุง ฺฉูพ ุฏุฑุฎูุงุณุชโูุง ูุจู

---

## ๐ ูุงูโูุง ุชุบุฑ ุงูุชู:

1. โ `department-requests.html`
2. โ `warehouse-requests.html`
3. โ `requests.html`
4. โ `backend/routes/requests.js`

---

## โ๏ธ ูฺฉุงุช ููู:

1. **Migration**: ุญุชูุงู migration ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ูุถุนุช "ุจุงุฒฺฏุดุช ุฏุงุฏู ุดุฏู" ุงุถุงูู ุดูุฏ:
   ```sql
   SOURCE E:/Projects/sitekar/backend/migrations/update_status_values.sql;
   ```

2. **Restart ุณุฑูุฑ**: ุจุนุฏ ุงุฒ ุชุบุฑุงุช backend ุญุชูุงู ุณุฑูุฑ ุฑุง restart ฺฉูุฏ:
   ```bash
   cd E:\Projects\sitekar\backend
   node server.js
   ```

3. **ุชุณุช ููู**: ุชุณุช ฺฉุงูู ุงุฒ ุงุฌุงุฏ ุชุง ุจุฑฺฏุดุช ุฏุฑุฎูุงุณุช ุฑุง ุงูุฌุงู ุฏูุฏ.

---

## โจ ุฎูุงุตู:

ููู ุฏุฑุฎูุงุณุชโูุง ฺฉุงุฑุจุฑ ูพุงุฏูโุณุงุฒ ุดุฏ:
- โ ุงูุจุงุฑ ุฏุงุฑ ุงูฺฉุงู ูุฑุงุด ุฏุงุฑุฏ
- โ ุฏุฑ department-requests ุงฺฏุฑ ุชุงุฏ/ุฑุฏ ุดุฏู ูุฑุงุด ููโุดูุฏ
- โ ููุชุฑ ูุถุนุช ุฏุฑ department-requests
- โ ุฏฺฉูู ุจุฑฺฏุดุช ููุท ุฏุฑ department-requests
- โ ฺฉุงุฑุจุฑ ูุนููู ููุท ุฏุฑ ุงูุชุธุงุฑ/ุฑุฏ/ุจุฑฺฏุดุช ุฑุง ูโุชูุงูุฏ ูุฑุงุด/ุญุฐู ฺฉูุฏ
- โ ุฏฺฉูู ฺฉูพ ุฏุฑ requests.html
- โ API endpoint ุจุฑุง ฺฉูพ ุฏุฑุฎูุงุณุช

**ูุถุนุช ูพุฑูฺู**: ุขูุงุฏู ุจุฑุง ุชุณุช ู ุงุณุชูุงุฏู! ๐
