# ุฎูุงุตู ุชุบุฑุงุช - ููู ฺฉุงูู ุฏุฑุฎูุงุณุชโูุง

## โ ุชุบุฑุงุช ุงูุฌุงู ุดุฏู:

### 1. ุชุบุฑ ูุถุนุช ุงุฒ "ุฏุฑ ุงูุชุธุงุฑ" ุจู "ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ"
- **Backend API** (`backend/routes/requests.js`):
  - ุชูุงู query ูุง ุจูโุฑูุฒ ุดุฏูุฏ
  - ุฏุฑุฎูุงุณุชโูุง ุฌุฏุฏ ุจุง ูุถุนุช `'ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ'` ุงุฌุงุฏ ูโุดููุฏ
  
- **Frontend**:
  - `department-requests.html`: ููุงุด ู ููุชุฑ ุจูโุฑูุฒ ุดุฏ
  - `requests.html`: ููุชุฑ ูุถุนุช ุจูโุฑูุฒ ุดุฏ

### 2. API ูุง ุฌุฏุฏ ุจุฑุง ุงูุจุงุฑ
ุณู endpoint ุฌุฏุฏ ุงุถุงูู ุดุฏ:

```javascript
POST /api/requests/:id/warehouse-check-stock
// ูุฑุญูู 1: ุชุบุฑ ูุถุนุช ุงุฒ "ุชุงุฏ ุฑุฆุณ" ุจู "ุชุงุฏ ููุฌูุฏ"

POST /api/requests/:id/warehouse-deliver
// ูุฑุญูู 2: ุชุบุฑ ูุถุนุช ุงุฒ "ุชุงุฏ ููุฌูุฏ" ุจู "ุชุญูู ุฏุงุฏู ุดุฏู"

POST /api/requests/:id/warehouse-reject  
// ุฑุฏ ุฏุฑุฎูุงุณุช: ุชุบุฑ ุงุฒ "ุชุงุฏ ุฑุฆุณ" ุง "ุชุงุฏ ููุฌูุฏ" ุจู "ุฑุฏ ุดุฏู"
```

### 3. ุตูุญู ุงูุจุงุฑ (`warehouse-requests.html`)
- โ ุฏฺฉูู **ููุงุด** (๐๏ธ) ุจุฑุง ููู ุฏุฑุฎูุงุณุชโูุง
- โ ุฏฺฉูู **ุชุงุฏ ููุฌูุฏ** (๐ฆ) ุจุฑุง ุฏุฑุฎูุงุณุชโูุง "ุชุงุฏ ุฑุฆุณ"
- โ ุฏฺฉูู **ุชุงุฏ ุชุญูู** (โ) ุจุฑุง ุฏุฑุฎูุงุณุชโูุง "ุชุงุฏ ููุฌูุฏ"
- โ ุฏฺฉูู **ุฑุฏ** (โ) ุจุฑุง ุฏุฑุฎูุงุณุชโูุง "ุชุงุฏ ุฑุฆุณ" ู "ุชุงุฏ ููุฌูุฏ"
- โ Modal ูุง ุฌุฏุงฺฏุงูู ุจุฑุง ูุฑ ุนููุงุช

---

## ๐ ููู ฺฉุงูู ุณุณุชู:

```
ฺฉุงุฑููุฏ ุซุจุช ุฏุฑุฎูุงุณุช
    โ
[ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ]
    โ
ุฑุฆุณ ูุงุญุฏ ุจุฑุฑุณ ูโฺฉูุฏ
    โ
  โโโโโโโโโโโโโโโดโโโโโโโโโโโโโโ
  โ                           โ
[ุชุงุฏ ุฑุฆุณ]            [ุฑุฏ ุดุฏู]
  โ                      (ูพุงุงู)
ุงูุจุงุฑ ุฏุงุฑ ุจุฑุฑุณ ูโฺฉูุฏ
  โ
  ๐ฆ ุชุงุฏ ููุฌูุฏ
  โ
[ุชุงุฏ ููุฌูุฏ]
  โ
  โ ุชุงุฏ ุชุญูู ููุง
  โ
โโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโ
โ                             โ
[ุชุญูู ุฏุงุฏู ุดุฏู]         [ุฑุฏ ุดุฏู]
(ูพุงุงู - ูููู)           (ูพุงุงู)
```

---

## ๐ ูุฑุงุญู ุงุฌุฑุง:

### ฺฏุงู 1: ุจูโุฑูุฒุฑุณุงู ุฏุชุงุจุณ
ุฏุฑ phpMyAdmin ุง MySQL command line:

```sql
-- ุงุฌุฑุง ูุงู migration
SOURCE E:/Projects/sitekar/backend/migrations/update_status_values.sql;
```

ุง ูุญุชูุงุช ูุงู ุฑุง ฺฉูพ ฺฉูุฏ.

### ฺฏุงู 2: ุฑโุงุณุชุงุฑุช ุณุฑูุฑ
```bash
cd E:\Projects\sitekar\backend
node server.js
```

### ฺฏุงู 3: ุชุณุช ููู

#### โ ุชุณุช 1: ุงุฌุงุฏ ุฏุฑุฎูุงุณุช
1. Login ุจู ุนููุงู ฺฉุงุฑููุฏ ุง ฺฉุงุฑุดูุงุณ
2. ุงุฌุงุฏ ุฏุฑุฎูุงุณุช ุฌุฏุฏ
3. ุจุฑุฑุณ: ูุถุนุช ุจุงุฏ `'ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ'` ุจุงุดุฏ

#### โ ุชุณุช 2: ุชุงุฏ ุฑุฆุณ ูุงุญุฏ
1. Login ุจู ุนููุงู ุฑุฆุณ ูุงุญุฏ
2. ุฑูุชู ุจู "ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ"
3. ุจุงุฏ ุฏุฑุฎูุงุณุชโูุง:
   - ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ (ุจุง ุฏฺฉูู ุชุงุฏ/ุฑุฏ)
   - ุชุงุฏ ุดุฏู (ููุท ุฏฺฉูู ููุงุด)
   - ุฑุฏ ุดุฏู (ููุท ุฏฺฉูู ููุงุด)
   ุฑุง ุจุจูุฏ
4. ุชุงุฏ ุฏุฑุฎูุงุณุช
5. ุจุฑุฑุณ: ูุถุนุช ุจุงุฏ `'ุชุงุฏ ุฑุฆุณ'` ุดูุฏ

#### โ ุชุณุช 3: ุชุงุฏ ููุฌูุฏ ุงูุจุงุฑ
1. Login ุจู ุนููุงู ุงูุจุงุฑ ุฏุงุฑ
2. ุฑูุชู ุจู "ุฏุฑุฎูุงุณุชโูุง ุงูุจุงุฑ"
3. ุจุงุฏ ุฏุฑุฎูุงุณุชโูุง "ุชุงุฏ ุฑุฆุณ" ุฑุง ุจุจูุฏ
4. ฺฉูฺฉ ุฑู "๐ฆ ููุฌูุฏ"
5. ุชุงุฏ ููุฌูุฏ
6. ุจุฑุฑุณ: ูุถุนุช ุจุงุฏ `'ุชุงุฏ ููุฌูุฏ'` ุดูุฏ

#### โ ุชุณุช 4: ุชุญูู ููุง
1. ุฏุฑ ุตูุญู ุงูุจุงุฑุ ุฏุฑุฎูุงุณุช ุจุง ูุถุนุช "ุชุงุฏ ููุฌูุฏ" ุฑุง ูพุฏุง ฺฉูุฏ
2. ฺฉูฺฉ ุฑู "โ ุชุญูู"
3. ุชุงุฏ ุชุญูู
4. ุจุฑุฑุณ: ูุถุนุช ุจุงุฏ `'ุชุญูู ุฏุงุฏู ุดุฏู'` ุดูุฏ

#### โ ุชุณุช 5: ุฑุฏ ุชูุณุท ุงูุจุงุฑ
1. ุงูุชุฎุงุจ ฺฉ ุฏุฑุฎูุงุณุช ุจุง ูุถุนุช "ุชุงุฏ ุฑุฆุณ" ุง "ุชุงุฏ ููุฌูุฏ"
2. ฺฉูฺฉ ุฑู "โ"
3. ุฑุฏ ุฏุฑุฎูุงุณุช ุจุง ุชูุถุญุงุช
4. ุจุฑุฑุณ: ูุถุนุช ุจุงุฏ `'ุฑุฏ ุดุฏู'` ุดูุฏ

---

## ๐ฏ ูุถุนุชโูุง ููุฌูุฏ:

| ูุถุนุช | ุชูุถุญ | ููุด ูุณุฆูู | ุฑูฺฏ ุจุฌ |
|------|-------|----------|---------|
| **ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ** | ุฏุฑุฎูุงุณุช ุซุจุช ุดุฏูุ ููุชุธุฑ ุจุฑุฑุณ ุฑุฆุณ | ุฑุฆุณ ูุงุญุฏ | ๐ก ุฒุฑุฏ |
| **ุชุงุฏ ุฑุฆุณ** | ุชุงุฏ ุดุฏูุ ููุชุธุฑ ุชุงุฏ ููุฌูุฏ ุงูุจุงุฑ | ุงูุจุงุฑ ุฏุงุฑ | ๐ข ุณุจุฒ |
| **ุชุงุฏ ููุฌูุฏ** | ููุฌูุฏ ุชุงุฏ ุดุฏูุ ุขูุงุฏู ุชุญูู | ุงูุจุงุฑ ุฏุงุฑ | ๏ฟฝ ุขุจ |
| **ุชุญูู ุฏุงุฏู ุดุฏู** | ุชุญูู ููุง ุจู ฺฉุงุฑููุฏ | - | โ ุณุจุฒ |
| **ุฑุฏ ุดุฏู** | ุฑุฏ ุดุฏู ุชูุณุท ุฑุฆุณ ุง ุงูุจุงุฑ | - | ๐ด ูุฑูุฒ |

---

## ๐ ูุงูโูุง ุชุบุฑ ุงูุชู:

1. โ `backend/routes/requests.js` - API endpoints
2. โ `backend/migrations/update_status_values.sql` - Migration
3. โ `department-requests.html` - ุตูุญู ุฑุฆุณ ูุงุญุฏ
4. โ `warehouse-requests.html` - ุตูุญู ุงูุจุงุฑ ุฏุงุฑ
5. โ `requests.html` - ููุชุฑ ูุถุนุช
6. โ `styles.css` - badge ูุง ุฌุฏุฏ

---

## ๐ ุนุจโุงุจ:

### ูุดฺฉู: ูุถุนุช ุฎุงู ุซุจุช ูโุดูุฏ
```sql
-- ุจุฑุฑุณ ุณุชูู status
DESCRIBE requests;
-- ุจุงุฏ ENUM ุจุง DEFAULT 'ุฏุฑ ุงูุชุธุงุฑ ุชุงุฏ' ุจุงุดุฏ
```

### ูุดฺฉู: ุฏุฑุฎูุงุณุชโูุง ููุงุด ุฏุงุฏู ููโุดููุฏ
```sql
-- ุจุฑุฑุณ ูุถุนุชโูุง ููุฌูุฏ
SELECT status, COUNT(*) FROM requests GROUP BY status;
```

### ูุดฺฉู: ุฏฺฉููโูุง ฺฉุงุฑ ููโฺฉููุฏ
- ุจุฑุฑุณ ฺฉูุณูู ูุฑูุฑฺฏุฑ (F12)
- ุจุฑุฑุณ ูุงฺฏ ุณุฑูุฑ backend
- ูุทูุฆู ุดูุฏ API endpoints ุฏุฑุณุช ูุฑุงุฎูุงู ูโุดููุฏ

---

## ๐ ุฏุณุชุฑุณโูุง:

| ููุด | ุฏุณุชุฑุณโูุง |
|-----|----------|
| **ฺฉุงุฑููุฏ** | ุงุฌุงุฏ ุฏุฑุฎูุงุณุชุ ูุดุงูุฏู ุฏุฑุฎูุงุณุชโูุง ุฎูุฏ |
| **ฺฉุงุฑุดูุงุณ** | ููุงู ฺฉุงุฑููุฏ |
| **ุฑุฆุณ ูุงุญุฏ** | ุชุงุฏ/ุฑุฏ ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏุ ูุดุงูุฏู ุฏุฑุฎูุงุณุชโูุง ุฎูุฏ |
| **ูุฏุฑ** | ูุดุงูุฏู ููู ุฏุฑุฎูุงุณุชโูุงุ ุชุงุฏ/ุฑุฏ |
| **ุงูุจุงุฑ ุฏุงุฑ** | ุชุงุฏ ุชุญูู/ุฑุฏ ุฏุฑุฎูุงุณุชโูุง ุชุงุฏ ุดุฏู |

---

**ุชูุฌู ููู:** ูุจู ุงุฒ ุงุฌุฑุงุ ุญุชูุงู migration ุฑุง ุงุฌุฑุง ฺฉูุฏ ุชุง ุณุชูู status ุจูโุฏุฑุณุช ุจูโุฑูุฒ ุดูุฏ! ๐
