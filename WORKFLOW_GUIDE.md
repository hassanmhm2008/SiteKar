# ุฑุงูููุง ุชฺฉูู ุณุณุชู ฺฏุฑุฏุด ฺฉุงุฑ ุฏุฑุฎูุงุณุชโูุง

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู:

### 1. Backend (API):
- โ ูุงู Migration: `update_requests_workflow.sql` - ุงุถุงูู ฺฉุฑุฏู ููุฏูุง status, supervisor_comment, etc
- โ API Routes ุฏุฑ `routes/requests.js`:
  - `GET /api/requests/department/:departmentId/pending` - ุฏุฑุฎูุงุณุชโูุง ุฏุฑ ุงูุชุธุงุฑ ูุงุญุฏ
  - `POST /api/requests/:id/approve` - ุชุงุฏ ุฏุฑุฎูุงุณุช ุชูุณุท ุฑุฆุณ
  - `POST /api/requests/:id/reject` - ุฑุฏ ุฏุฑุฎูุงุณุช ุชูุณุท ุฑุฆุณ
  - `GET /api/requests/warehouse/approved` - ุฏุฑุฎูุงุณุชโูุง ุชุงุฏ ุดุฏู ุจุฑุง ุงูุจุงุฑ

### 2. Frontend:
- โ `department-requests.html` - ุตูุญู ุฑุฆุณ ูุงุญุฏ ุจุฑุง ุชุงุฏ/ุฑุฏ ุฏุฑุฎูุงุณุชโูุง
- โ `warehouse-requests.html` - ุตูุญู ุงูุจุงุฑ ุฏุงุฑ ุจุฑุง ูุดุงูุฏู ุฏุฑุฎูุงุณุชโูุง ุชุงุฏ ุดุฏู
- โ `requests.html` - ุจุฑูุฒุฑุณุงู ุดุฏู ุจุฑุง ููุงุด ูุถุนุช ู ุชูุถุญุงุช ุฑุฆุณ

### 3. Database Migrations:
- โ `add_request_workflow_pages.sql` - ุงุถุงูู ฺฉุฑุฏู permissions ุจุฑุง ุตูุญุงุช ุฌุฏุฏ
- โ `add_warehouse_role.sql` - ุงุถุงูู ฺฉุฑุฏู ููุด "ุงูุจุงุฑ ุฏุงุฑ"

---

## ๐ ูุฑุงุญู ูุตุจ ู ุฑุงูโุงูุฏุงุฒ:

### ูุฑุญูู 1: ุงุฌุฑุง Migration ุฏุฑ MySQL

ุฏุฑ phpMyAdmin ุง MySQL Workbenchุ ุฏุชุงุจุณ `sitekar_db` ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ู ุจู ุชุฑุชุจ ุงุฌุฑุง ฺฉูุฏ:

```sql
-- 1. ุงุถุงูู ฺฉุฑุฏู ููุด ุงูุจุงุฑ ุฏุงุฑ
SOURCE backend/migrations/add_warehouse_role.sql;

-- 2. ุงุถุงูู ฺฉุฑุฏู ููุฏูุง workflow ู permissions ุตูุญุงุช ุฌุฏุฏ
SOURCE backend/migrations/add_request_workflow_pages.sql;
```

ุง ูุญุชูุงุช ุฑุง ฺฉูพ ฺฉุฑุฏู ู ุฏุฑ ุชุจ SQL ุงุฌุฑุง ฺฉูุฏ.

---

### ูุฑุญูู 2: ุงุถุงูู ฺฉุฑุฏู ููููุง ุฌุฏุฏ

โ **ุงู ูุฑุญูู ุงูุฌุงู ุดุฏู ุงุณุช!**

ููููุง "ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ" ู "ุฏุฑุฎูุงุณุชโูุง ุงูุจุงุฑ" ุจุง class `admin-menu` ุจู ููู ุตูุญุงุช HTML ุงุถุงูู ุดุฏูโุงูุฏ.

ุงู ููููุง ููุท ุจุฑุง ฺฉุณุงู ฺฉู ุฏุฑ ุฏุชุงุจุณ permission ุฏุงุฑูุฏ ููุงุด ุฏุงุฏู ูโุดููุฏ.

---

### ูุฑุญูู 3: ุจุฑูุฒุฑุณุงู ุตูุญู Permissions

โ **ุงู ูุฑุญูู ุงูุฌุงู ุดุฏู ุงุณุช!**

ุตูุญู `permissions.html` ุจุฑูุฒุฑุณุงู ุดุฏู ู 2 ุตูุญู ุฌุฏุฏ ุจู ูุณุช ุงุถุงูู ุดุฏูโุงูุฏ.

---

### ูุฑุญูู 4: ุฑโุงุณุชุงุฑุช ุณุฑูุฑ Backend

```bash
cd backend
node server.js
```

---

## ๐ฏ ฺฺฏููฺฏ ฺฉุงุฑ ุณุณุชู:

### 1๏ธโฃ ฺฉุงุฑุจุฑ ุนุงุฏ (ฺฉุงุฑููุฏ/ฺฉุงุฑุดูุงุณ):
1. ูุงุฑุฏ ุตูุญู "ุฏุฑุฎูุงุณุชโูุง" ูโุดูุฏ
2. "ุงุฌุงุฏ ุฏุฑุฎูุงุณุช ุฌุฏุฏ" ุฑุง ูโุฒูุฏ
3. ฺฉุงูุงูุง ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ ู ุซุจุช ูโฺฉูุฏ
4. ุฏุฑุฎูุงุณุช ุจุง ูุถุนุช "ุฏุฑ ุงูุชุธุงุฑ" ุซุจุช ูโุดูุฏ
5. ูโุชูุงูุฏ ูุถุนุช ุฏุฑุฎูุงุณุช ุฎูุฏ ุฑุง ุจุจูุฏ

### 2๏ธโฃ ุฑุฆุณ ูุงุญุฏ:
1. ูุงุฑุฏ ุตูุญู "ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ" ูโุดูุฏ
2. ุชูุงู ุฏุฑุฎูุงุณุชโูุง "ุฏุฑ ุงูุชุธุงุฑ" ูุงุญุฏ ุฎูุฏ ุฑุง ูโุจูุฏ
3. ูโุชูุงูุฏ ุฌุฒุฆุงุช ุฑุง ูุดุงูุฏู ฺฉูุฏ
4. ุฏฺฉูู "ุชุงุฏ โ" ุง "ุฑุฏ โ" ุฑุง ูโุฒูุฏ
5. ุฏุฑ ุตูุฑุช ุชุงุฏ: ูุถุนุช ุจู "ุชุงุฏ ุฑุฆุณ" ุชุบุฑ ูโฺฉูุฏ โ ุจู ุตูุญู ุงูุจุงุฑ ูโุฑูุฏ
6. ุฏุฑ ุตูุฑุช ุฑุฏ: ูุถุนุช ุจู "ุฑุฏ ุดุฏู" ุชุบุฑ ูโฺฉูุฏ โ ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ุจุจูุฏ ฺุฑุง ุฑุฏ ุดุฏู

### 3๏ธโฃ ุงูุจุงุฑ ุฏุงุฑ:
1. ูุงุฑุฏ ุตูุญู "ุฏุฑุฎูุงุณุชโูุง ุงูุจุงุฑ" ูโุดูุฏ
2. ุชูุงู ุฏุฑุฎูุงุณุชโูุง "ุชุงุฏ ุฑุฆุณ" ุฑุง ูโุจูุฏ
3. ูโุชูุงูุฏ ุฌุฒุฆุงุช ุฏุฑุฎูุงุณุช + ุชูุถุญุงุช ุฑุฆุณ ุฑุง ุจุจูุฏ
4. ฺฉุงูุงูุง ุฑุง ุขูุงุฏู ู ุชุญูู ูโุฏูุฏ

---

## ๐ ุชูุธูุงุช Permissions ูพุดููุงุฏ:

| ุตูุญู | ูุฏุฑ | ุฑุฆุณ ูุงุญุฏ | ฺฉุงุฑููุฏ | ฺฉุงุฑุดูุงุณ | ุงูุจุงุฑ ุฏุงุฑ |
|------|------|-----------|---------|----------|-----------|
| ุฏุฑุฎูุงุณุชโูุง | โ | โ | โ | โ | โ |
| ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ | โ | โ | โ | โ | โ |
| ุฏุฑุฎูุงุณุชโูุง ุงูุจุงุฑ | โ | โ | โ | โ | โ |

ุงู ุชูุธูุงุช ุงุฒ ุทุฑู ุตูุญู "ุฏุณุชุฑุณโูุง" ูุงุจู ุชุบุฑ ูุณุชูุฏ.

---

## ๐ ูุถุนุชโูุง ุฏุฑุฎูุงุณุช:

1. **ุฏุฑ ุงูุชุธุงุฑ** - ุฏุฑุฎูุงุณุช ุซุจุช ุดุฏูุ ููุชุธุฑ ุจุฑุฑุณ ุฑุฆุณ ูุงุญุฏ
2. **ุชุงุฏ ุฑุฆุณ** - ุฑุฆุณ ูุงุญุฏ ุชุงุฏ ฺฉุฑุฏูุ ููุชุธุฑ ูพุฑุฏุงุฒุด ุงูุจุงุฑ
3. **ุฑุฏ ุดุฏู** - ุฑุฆุณ ูุงุญุฏ ุฑุฏ ฺฉุฑุฏู ุงุณุช (ุจุง ุฐฺฉุฑ ุฏูู)
4. **ุชุงุฏ ุงูุจุงุฑ** - ุงูุจุงุฑ ุฏุงุฑ ุชุงุฏ ฺฉุฑุฏู (ูุงุจูุช ุขูุฏู)
5. **ุชุญูู ุฏุงุฏู ุดุฏู** - ฺฉุงูุง ุชุญูู ุฏุงุฏู ุดุฏู (ูุงุจูุช ุขูุฏู)

---

## ๐งช ุชุณุช ุณุณุชู:

### ุชุณุช 1: ุซุจุช ุฏุฑุฎูุงุณุช ุชูุณุท ฺฉุงุฑุจุฑ ุนุงุฏ
1. ุจุง ฺฉ ฺฉุงุฑุจุฑ ฺฉุงุฑููุฏ/ฺฉุงุฑุดูุงุณ ูุงฺฏู ฺฉูุฏ
2. ุฏุฑุฎูุงุณุช ุฌุฏุฏ ุซุจุช ฺฉูุฏ
3. ุจุฑุฑุณ: ูุถุนุช ุจุงุฏ "ุฏุฑ ุงูุชุธุงุฑ" ุจุงุดุฏ

### ุชุณุช 2: ุชุงุฏ/ุฑุฏ ุชูุณุท ุฑุฆุณ ูุงุญุฏ
1. ุจุง ฺฉ ฺฉุงุฑุจุฑ "ุฑุฆุณ ูุงุญุฏ" ูุงฺฏู ฺฉูุฏ
2. ุตูุญู "ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ" ุฑุง ุจุงุฒ ฺฉูุฏ
3. ุฏุฑุฎูุงุณุช ุซุจุช ุดุฏู ุฏุฑ ุชุณุช 1 ุฑุง ุจุจูุฏ
4. "ุฑุฏ" ุฑุง ุจุฒูุฏ ู ุฏูู ุจููุณุฏ
5. ุจุฑุฑุณ: ุฏุฑ ุตูุญู ุฏุฑุฎูุงุณุชโูุง ฺฉุงุฑุจุฑุ ูุถุนุช "ุฑุฏ ุดุฏู" + ุชูุถุญุงุช ุฑุฆุณ ุจุงุฏ ููุงุด ุฏุงุฏู ุดูุฏ
6. ุฏุฑุฎูุงุณุช ุฌุฏุฏ ุซุจุช ฺฉูุฏ ู "ุชุงุฏ" ฺฉูุฏ
7. ุจุฑุฑุณ: ูุถุนุช ุจุงุฏ "ุชุงุฏ ุฑุฆุณ" ุดูุฏ

### ุชุณุช 3: ูุดุงูุฏู ุฏุฑ ุงูุจุงุฑ
1. ุจุง ฺฉุงุฑุจุฑ "ุงูุจุงุฑ ุฏุงุฑ" ูุงฺฏู ฺฉูุฏ
2. ุตูุญู "ุฏุฑุฎูุงุณุชโูุง ุงูุจุงุฑ" ุฑุง ุจุงุฒ ฺฉูุฏ
3. ุฏุฑุฎูุงุณุช ุชุงุฏ ุดุฏู ุฏุฑ ุชุณุช 2 ุฑุง ุจุงุฏ ุจุจูุฏ
4. ุฌุฒุฆุงุช ุฑุง ูุดุงูุฏู ฺฉูุฏ

---

## ๐ ุฑูุน ูุดฺฉูุงุช ุงุญุชูุงู:

### ุฎุทุง: Column 'status' doesn't exist
**ุฑุงู ุญู:** Migration `update_requests_workflow.sql` ุฑุง ุงุฌุฑุง ูฺฉุฑุฏูโุงุฏ. ุงุจุชุฏุง ุขู ุฑุง ุงุฌุฑุง ฺฉูุฏ.

### ุฎุทุง: Access Denied ุฏุฑ ุตูุญู ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ
**ุฑุงู ุญู:** 
1. Migration `add_request_workflow_pages.sql` ุฑุง ุงุฌุฑุง ฺฉูุฏ
2. ุฎุฑูุฌ ู ูุฑูุฏ ูุฌุฏุฏ ฺฉูุฏ (ุชุง ฺฉุด ูพุฑูุดูโูุง ูพุงฺฉ ุดูุฏ)

### ููู "ุฏุฑุฎูุงุณุชโูุง ูุงุญุฏ" ููุงุด ุฏุงุฏู ููโุดูุฏ
**ุฑุงู ุญู:**
1. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ุฏุฑ ุชูุงู ุตูุญุงุช HTMLุ ููููุง ุฌุฏุฏ ุงุถุงูู ุดุฏู ุจุงุดูุฏ
2. Permissions ุฑุง ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู ฺฺฉ ฺฉูุฏ

### ุฏุฑุฎูุงุณุชโูุง ุฎุงู ุงุณุช
**ุฑุงู ุญู:**
1. ูุทูุฆู ุดูุฏ ุณุฑูุฑ backend ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช
2. Console ูุฑูุฑฺฏุฑ ุฑุง ฺฺฉ ฺฉูุฏ (F12)
3. ุจุฑุฑุณ ฺฉูุฏ ฺฉู ฺฉุงุฑุจุฑ ุจู ูุงุญุฏ assign ุดุฏู ุจุงุดุฏ

---

## ๐ ูฺฉุงุช ููู:

- โ๏ธ **ููุดู ูุจู ุงุฒ ุชุบุฑ ุฏุฑ databaseุ backup ุจฺฏุฑุฏ**
- ๐ ุจุนุฏ ุงุฒ ุชุบุฑ permissionsุ ุญุชูุงู ุฎุฑูุฌ ู ูุฑูุฏ ูุฌุฏุฏ ฺฉูุฏ
- ๐จ ูโุชูุงูุฏ ุงุฒ ุตูุญู "ุฏุณุชุฑุณโูุง" permissions ุฑุง ุชุบุฑ ุฏูุฏ
- ๐ฆ ุจุฑุง ุงุถุงูู ฺฉุฑุฏู ูุฑุงุญู ุจุดุชุฑ (ุชุงุฏ ุงูุจุงุฑุ ุชุญูู) ุงุฒ ููู ุงูฺฏู ูพุฑู ฺฉูุฏ

---

## ๐ ูุงุจูุชโูุง ุขูุฏู (ุงุฎุชุงุฑ):

- [ ] ุชุงุฏ ููุง ุชูุณุท ุงูุจุงุฑ ุฏุงุฑ (ุชุบุฑ ูุถุนุช ุจู "ุชุงุฏ ุงูุจุงุฑ")
- [ ] ุซุจุช ุชุญูู ฺฉุงูุง (ุชุบุฑ ูุถุนุช ุจู "ุชุญูู ุฏุงุฏู ุดุฏู")
- [ ] ููุชูฺฉุดู ุจุฑุง ุฑุฆุณ ูุงุญุฏ ููุช ุฏุฑุฎูุงุณุช ุฌุฏุฏ ุซุจุช ุดุฏ
- [ ] ููุชุฑ ูพุดุฑูุชู ุฏุฑ ุตูุญู ุงูุจุงุฑ (ุจุฑ ุงุณุงุณ ูุงุญุฏุ ุชุงุฑุฎุ etc)
- [ ] ฺุงูพ PDF ุงุฒ ุฏุฑุฎูุงุณุช
- [ ] ุงูุถุง ุฏุฌุชุงู

---

**ุชุงุฑุฎ ุงุฌุงุฏ:** 3 ููุงูุจุฑ 2025
**ูุณุฎู:** 1.0
